LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)
CSOUND_SRC_ROOT := $(NDK_MODULE_PATH)/csound

LIBLO_SRC_DIR := $(NDK_MODULE_PATH)/liblo-android/jni

LOCAL_MODULE   := OSC

LOCAL_C_INCLUDES := $(CSOUND_SRC_ROOT)/H $(CSOUND_SRC_ROOT)/include $(CSOUND_SRC_ROOT)/ $(LIBLO_SRC_DIR) $(CSOUND_SRC_ROOT)/Opcodes $(LOCAL_PATH)/../../../CsoundAndroid/jni 
LOCAL_CFLAGS := -DENABLE_THREADS -D__BUILDING_LIBCSOUND -DENABLE_NEW_PARSER -DLINUX -DHAVE_DIRENT_H -DHAVE_FCNTL_H -DHAVE_UNISTD_H -DHAVE_STDINT_H -DHAVE_SYS_TIME_H -DHAVE_SYS_TYPES_H -DHAVE_TERMIOS_H 
LOCAL_CPPFLAGS :=$(LOCAL_CFLAGS)
# For using assembler code.
LOCAL_CPPFLAGS += -pthread -frtti -fexceptions
LOCAL_CFLAGS += -fintegrated-as

LOCAL_SRC_FILES := $(CSOUND_SRC_ROOT)/Opcodes/OSC.c 

LOCAL_LDLIBS += -ldl 

LOCAL_STATIC_LIBRARIES := liblo
 
include $(BUILD_SHARED_LIBRARY)

$(call import-module,liblo-android/jni)
